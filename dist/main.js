(()=>{"use strict";const e=()=>{const e=function(){const e=[];for(let o=0;o<=9;o++){e[o]=[];for(let n=0;n<=9;n++)e[o][n]=""}return e}(),o=[];function n(e){return!(e<0||e>9)}return{gameboard:e,placeShip:function(t,a,r,c){if(!n(t)||!n(a)||""!==e[t][a])return console.log("Index out of board");if("vertical"===c&&n(t+r.length-1))for(let n=t;n<t+r.length;n++){if(""!==e[n][a])return console.log("Invalid spot");e[n][a]={type:`${r.length}ship`,ship:r,value:"O",isSunk:!1},o.push(e[n][a])}if("horizontal"===c&&n(a+r.length-1))for(let n=a;n<a+r.length;n++){if(""!==e[t][n])return console.log("Invalid spot");e[t][n]={type:`${r.length}ship`,ship:r,value:"O",isSunk:!1},o.push(e[t][n])}return e},receiveAttack:function(o,t){if(!n(o)||!n(t))return console.log("Attack out of board");{let n=e[o][t];if("●"===n)return;""===n?(e[o][t]="●",console.log("Miss")):"O"===n.value&&(n.ship.hit(),n.value="X",n.ship.isSunk()&&(n.isSunk=!0,function(o,n){const t=[e[o+1]?.[n],e[o-1]?.[n],e[o]?.[n+1],e[o]?.[n-1],e[o+1]?.[n+1],e[o-1]?.[n-1],e[o-1]?.[n+1],e[o+1]?.[n-1]];for(let a=0;a<t.length;a++)if(void 0!==t[a]&&"O"!==t[a].value&&"X"!==t[a].value)switch(t[a]="●",a){case 0:e[o+1][n]="●";break;case 1:e[o-1][n]="●";break;case 2:e[o][n+1]="●";break;case 3:e[o][n-1]="●";break;case 4:e[o+1][n+1]="●";break;case 5:e[o-1][n-1]="●";break;case 6:e[o-1][n+1]="●";break;case 7:e[o+1][n-1]="●"}}(o,t),console.log("Sunk")),console.log(n.isSunk))}},checkEndGame:function(){let e=0;for(let n of o)!0===n.isSunk&&e++;console.log(e),e>=10&&console.log("End game")}}},o=o=>({type:o,gameboard:e()});function n(e,o){const n=document.createElement("div");n.classList.add("container");for(let o=0;o<e.gameboard.gameboard.length;o++)for(let t=0;t<e.gameboard.gameboard[o].length;t++){const a=document.createElement("div");a.innerHTML=e.gameboard.gameboard[o][t],a.addEventListener("click",(()=>{e.gameboard.receiveAttack([o],[t]),a.innerHTML=e.gameboard.gameboard[o][t]})),n.appendChild(a)}o.append(n)}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".gameboard-one"),t=document.querySelector(".gameboard-two"),a=(document.querySelector(".header"),o("human")),r=o("computer");n(a,e),n(r,t),console.log(a.gameboard.gameboard)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0MsVUFBWVIsRUFBTy9CLFVBQVVBLFVBQVVFLEdBQUdDLEVBQUUsSUFHdkQ4QixFQUFVUSxZQUFZSCxFQUN0QixDQUVKTixFQUFJVSxPQUFPVCxFQUNmLENDaEJBQyxTQUFTTSxpQkFBaUIsb0JBQW9CLEtBQzFDLE1BQU1HLEVBQWlCVCxTQUFTVSxjQUFjLGtCQUN4Q0MsRUFBbUJYLFNBQVNVLGNBQWMsa0JBRzFDRSxHQUZTWixTQUFTVSxjQUFjLFdBRW5CaEIsRUFBTyxVQUNwQm1CLEVBQWFuQixFQUFPLFlBSzFCRSxFQUFnQmdCLEVBQVlILEdBQzVCYixFQUFnQmlCLEVBQVlGLEdBSzVCaEMsUUFBUUMsSUFBSWdDLEVBQVc5QyxVQUFVQSxVQUFTLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3NoaXAuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9VSS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNoaXAgPSAoc2hpcExlbmd0aCkgPT4ge1xuICBjb25zdCBsZW5ndGggPSBzaGlwTGVuZ3RoO1xuICBsZXQgaGl0cyA9IDA7XG5cbiAgZnVuY3Rpb24gaGl0KCkge1xuICAgIGhpdHMgKz0gMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3VuaygpIHtcbiAgICBpZiAoc2hpcExlbmd0aCA8PSBoaXRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBoaXQsXG4gICAgaXNTdW5rLFxuICAgIGxlbmd0aCxcbiAgICBnZXRIaXRzOiAoKSA9PiBoaXRzLFxuICB9O1xufTtcblxuZXhwb3J0IHsgU2hpcCB9O1xuIiwiaW1wb3J0IHsgU2hpcCB9IGZyb20gXCIuL3NoaXBcIjtcblxuY29uc3QgR2FtZWJvYXJkID0gKCkgPT4ge1xuICBmdW5jdGlvbiBjcmVhdGVHYW1lQm9hcmQoKSB7XG4gICAgY29uc3QgZ2FtZUJvYXJkID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gOTsgaSsrKSB7XG4gICAgICBnYW1lQm9hcmRbaV0gPSBbXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDw9IDk7IGorKykge1xuICAgICAgICBnYW1lQm9hcmRbaV1bal0gPSBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ2FtZUJvYXJkO1xuICB9XG5cbiAgY29uc3QgZ2FtZWJvYXJkID0gY3JlYXRlR2FtZUJvYXJkKCk7XG4gIGNvbnN0IHNoaXBzID0gW107XG5cbiAgZnVuY3Rpb24gX2lzV2l0aGluQm91bmRzKGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IDkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy9zdGFydCBhbmQgZW5kIGhlcmUgLSBpbmRleGVzIG9mIHRoZSBib3JkJ3MgY2VsbHMgd2hlcmUgaSB3YW50IHRvIHBsYWNlIHNoaXBcbiAgLy8gdGhlIGNvb3JkaW5hdGUgb2JqZWN0IHNob3VsZCBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBzaGlwIGluIGl0cyBsb2NhdGlvbi5cbiAgZnVuY3Rpb24gcGxhY2VTaGlwKGNvbCwgcm93LCBzaGlwLCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoXG4gICAgICBfaXNXaXRoaW5Cb3VuZHMoY29sKSAmJlxuICAgICAgX2lzV2l0aGluQm91bmRzKHJvdykgJiZcbiAgICAgIGdhbWVib2FyZFtjb2xdW3Jvd10gPT09IFwiXCJcbiAgICApIHtcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09IFwidmVydGljYWxcIiAmJiBfaXNXaXRoaW5Cb3VuZHMoY29sICsgc2hpcC5sZW5ndGggLSAxKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gY29sOyBpIDwgY29sICsgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChnYW1lYm9hcmRbaV1bcm93XSA9PT0gXCJcIikge1xuICAgICAgICAgICAgZ2FtZWJvYXJkW2ldW3Jvd10gPSB7XG4gICAgICAgICAgICAgIHR5cGU6IGAke3NoaXAubGVuZ3RofXNoaXBgLFxuICAgICAgICAgICAgICBzaGlwOiBzaGlwLFxuICAgICAgICAgICAgICB2YWx1ZTogXCJPXCIsXG4gICAgICAgICAgICAgIGlzU3VuazogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2hpcHMucHVzaChnYW1lYm9hcmRbaV1bcm93XSk7XG4gICAgICAgICAgfSBlbHNlIHJldHVybiBjb25zb2xlLmxvZyhcIkludmFsaWQgc3BvdFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIGRpcmVjdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgJiZcbiAgICAgICAgX2lzV2l0aGluQm91bmRzKHJvdyArIHNoaXAubGVuZ3RoIC0gMSlcbiAgICAgICkge1xuICAgICAgICBmb3IgKGxldCBpID0gcm93OyBpIDwgcm93ICsgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChnYW1lYm9hcmRbY29sXVtpXSA9PT0gXCJcIikge1xuICAgICAgICAgICAgZ2FtZWJvYXJkW2NvbF1baV0gPSB7XG4gICAgICAgICAgICAgIHR5cGU6IGAke3NoaXAubGVuZ3RofXNoaXBgLFxuICAgICAgICAgICAgICBzaGlwOiBzaGlwLFxuICAgICAgICAgICAgICB2YWx1ZTogXCJPXCIsXG4gICAgICAgICAgICAgIGlzU3VuazogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2hpcHMucHVzaChnYW1lYm9hcmRbY29sXVtpXSk7XG4gICAgICAgICAgfSBlbHNlIHJldHVybiBjb25zb2xlLmxvZyhcIkludmFsaWQgc3BvdFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coXCJJbmRleCBvdXQgb2YgYm9hcmRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdhbWVib2FyZDtcbiAgfVxuXG4gIC8vQ3VycmVudGx5IHRlc3RpbmcgdGhpcyBpbiBpbmRleC5qc1xuICBmdW5jdGlvbiByZWNlaXZlQXR0YWNrKGNvbCwgcm93KSB7XG4gICAgaWYgKF9pc1dpdGhpbkJvdW5kcyhjb2wpICYmIF9pc1dpdGhpbkJvdW5kcyhyb3cpKSB7XG4gICAgICBsZXQgYm9hcmRDZWxsID0gZ2FtZWJvYXJkW2NvbF1bcm93XTtcbiAgICAgIGlmIChib2FyZENlbGwgPT09ICdcXHUyNUNGJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGJvYXJkQ2VsbCA9PT0gXCJcIikge1xuICAgICAgICBnYW1lYm9hcmRbY29sXVtyb3ddID0gJ1xcdTI1Q0YnO1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1pc3NcIik7XG4gICAgICB9IGVsc2UgaWYgKGJvYXJkQ2VsbC52YWx1ZSA9PT0gXCJPXCIpIHtcbiAgICAgICAgYm9hcmRDZWxsLnNoaXAuaGl0KCk7XG4gICAgICAgIGJvYXJkQ2VsbC52YWx1ZSA9IFwiWFwiO1xuICAgICAgICBpZiAoYm9hcmRDZWxsLnNoaXAuaXNTdW5rKCkpIHtcbiAgICAgICAgICBib2FyZENlbGwuaXNTdW5rID0gdHJ1ZTtcbiAgICAgICAgICBfbWFya0NlbGxzQXJvdW5kU3VjY3Nlc3NmdWxsSGl0KGNvbCwgcm93KTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlN1bmtcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coYm9hcmRDZWxsLmlzU3Vuayk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZyhcIkF0dGFjayBvdXQgb2YgYm9hcmRcIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX21hcmtDZWxsc0Fyb3VuZFN1Y2NzZXNzZnVsbEhpdChjb2wsIHJvdykge1xuICAgIGNvbnN0IG5laWdoYm91cnMgPSBbXG4gICAgICBnYW1lYm9hcmRbY29sICsgMV0/Lltyb3ddLFxuICAgICAgZ2FtZWJvYXJkW2NvbCAtIDFdPy5bcm93XSxcbiAgICAgIGdhbWVib2FyZFtjb2xdPy5bcm93ICsgMV0sXG4gICAgICBnYW1lYm9hcmRbY29sXT8uW3JvdyAtIDFdLFxuICAgICAgZ2FtZWJvYXJkW2NvbCArIDFdPy5bcm93ICsgMV0sXG4gICAgICBnYW1lYm9hcmRbY29sIC0gMV0/Lltyb3cgLSAxXSxcbiAgICAgIGdhbWVib2FyZFtjb2wgLSAxXT8uW3JvdyArIDFdLFxuICAgICAgZ2FtZWJvYXJkW2NvbCArIDFdPy5bcm93IC0gMV0sXG4gICAgXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBuZWlnaGJvdXJzW2ldICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgbmVpZ2hib3Vyc1tpXS52YWx1ZSAhPT0gXCJPXCIgJiZcbiAgICAgICAgbmVpZ2hib3Vyc1tpXS52YWx1ZSAhPT0gXCJYXCJcbiAgICAgICkge1xuICAgICAgICBuZWlnaGJvdXJzW2ldID0gJ1xcdTI1Q0YnO1xuICAgICAgICAvLyBVcGRhdGUgY29ycmVzcG9uZGluZyB2YWx1ZSBpbiBnYW1lYm9hcmQgYXJyYXlcbiAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgZ2FtZWJvYXJkW2NvbCArIDFdW3Jvd10gPSAnXFx1MjVDRic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBnYW1lYm9hcmRbY29sIC0gMV1bcm93XSA9ICdcXHUyNUNGJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGdhbWVib2FyZFtjb2xdW3JvdyArIDFdID0gJ1xcdTI1Q0YnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgZ2FtZWJvYXJkW2NvbF1bcm93IC0gMV0gPSAnXFx1MjVDRic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBnYW1lYm9hcmRbY29sICsgMV1bcm93ICsgMV0gPSAnXFx1MjVDRic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBnYW1lYm9hcmRbY29sIC0gMV1bcm93IC0gMV0gPSAnXFx1MjVDRic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICBnYW1lYm9hcmRbY29sIC0gMV1bcm93ICsgMV0gPSAnXFx1MjVDRic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBnYW1lYm9hcmRbY29sICsgMV1bcm93IC0gMV0gPSAnXFx1MjVDRic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0VuZEdhbWUoKSB7XG4gICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgIGZvciAobGV0IHNoaXAgb2Ygc2hpcHMpIHtcbiAgICAgIGlmIChzaGlwLmlzU3VuayA9PT0gdHJ1ZSkge1xuICAgICAgICBjb3VudGVyKys7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGNvdW50ZXIpO1xuICAgIGlmIChjb3VudGVyID49IDEwKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkVuZCBnYW1lXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2FtZWJvYXJkLFxuICAgIHBsYWNlU2hpcCxcbiAgICByZWNlaXZlQXR0YWNrLFxuICAgIGNoZWNrRW5kR2FtZSxcbiAgfTtcbn07XG5cbmV4cG9ydCB7IEdhbWVib2FyZCB9O1xuIiwiaW1wb3J0IHsgR2FtZWJvYXJkIH0gZnJvbSBcIi4vZ2FtZWJvYXJkXCJcclxuXHJcbmNvbnN0IFBsYXllciA9IChwbGF5ZXJ0eXBlKSA9PiB7XHJcbiAgICBjb25zdCB0eXBlID0gcGxheWVydHlwZTtcclxuXHJcbiAgICBjb25zdCBnYW1lYm9hcmQgPSBHYW1lYm9hcmQoKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgZ2FtZWJvYXJkXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7UGxheWVyfSIsImltcG9ydCB7IEdhbWVib2FyZCB9IGZyb20gXCIuL2dhbWVib2FyZFwiO1xyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9wbGF5ZXJcIjtcclxuaW1wb3J0IHsgU2hpcCB9IGZyb20gXCIuL3NoaXBcIjtcclxuXHJcblxyXG5mdW5jdGlvbiByZW5kZXJHYW1lYm9hcmQgKHBsYXllciwgYm94KSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdjb250YWluZXInKVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbGF5ZXIuZ2FtZWJvYXJkLmdhbWVib2FyZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGxheWVyLmdhbWVib2FyZC5nYW1lYm9hcmRbaV0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBjb25zdCBzcXVhcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBzcXVhcmUuaW5uZXJIVE1MID0gcGxheWVyLmdhbWVib2FyZC5nYW1lYm9hcmRbaV1bal07XHJcbiAgICAgICAgc3F1YXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBwbGF5ZXIuZ2FtZWJvYXJkLiByZWNlaXZlQXR0YWNrKFtpXSxbal0pXHJcbiAgICAgICAgICAgIHNxdWFyZS5pbm5lckhUTUwgPSBwbGF5ZXIuZ2FtZWJvYXJkLmdhbWVib2FyZFtpXVtqXTtcclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3F1YXJlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBib3guYXBwZW5kKGNvbnRhaW5lcilcclxufVxyXG5cclxuZXhwb3J0IHtyZW5kZXJHYW1lYm9hcmR9IiwiaW1wb3J0IHsgR2FtZWJvYXJkIH0gZnJvbSBcIi4vZ2FtZWJvYXJkXCI7XG5pbXBvcnQgeyBTaGlwIH0gZnJvbSBcIi4vc2hpcFwiO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyXCI7XG5pbXBvcnQgeyByZW5kZXJHYW1lYm9hcmQgfSBmcm9tIFwiLi9VSVwiO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgIGNvbnN0IHBsYXllckJvYXJkQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWVib2FyZC1vbmUnKTtcbiAgICBjb25zdCBjb21wdXRlckJvYXJkQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWVib2FyZC10d28nKTtcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJyk7XG5cbiAgICBjb25zdCByZWFsUGxheWVyID0gUGxheWVyKCdodW1hbicpO1xuICAgIGNvbnN0IGNvbXBQbGF5ZXIgPSBQbGF5ZXIoJ2NvbXB1dGVyJyk7XG4gICAgY29uc3QgdGhyZWVEZWNrU2hpcCA9IFNoaXAoMyk7XG5cbiAgICAvLyByZWFsUGxheWVyLmdhbWVib2FyZC5wbGFjZVNoaXAoMCwwLCB0aHJlZURlY2tTaGlwLCAnaG9yaXpvbnRhbCcpXG5cbiAgICByZW5kZXJHYW1lYm9hcmQocmVhbFBsYXllciwgcGxheWVyQm9hcmRCb3gpO1xuICAgIHJlbmRlckdhbWVib2FyZChjb21wUGxheWVyLCBjb21wdXRlckJvYXJkQm94KVxuXG4gICAgXG5cblxuICAgIGNvbnNvbGUubG9nKHJlYWxQbGF5ZXIuZ2FtZWJvYXJkLmdhbWVib2FyZClcbn0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vLyBjb25zdCBteVNoaXAgPSBTaGlwKDQpO1xuLy8gY29uc3QgYW5vdGhlclNoaXAgPSBTaGlwKDIpO1xuLy8gY29uc3QgYmlnU2hpcCA9IFNoaXAoNCk7XG4vLyBjb25zdCBuZXdCb2FyZCA9IEdhbWVib2FyZCgpO1xuLy8gbmV3Qm9hcmQucGxhY2VTaGlwKDAsIDAsIG15U2hpcCwgXCJ2ZXJ0aWNhbFwiKTtcbi8vIG5ld0JvYXJkLnBsYWNlU2hpcCgyLCAyLCBhbm90aGVyU2hpcCwgXCJob3Jpem9udGFsXCIpO1xuLy8gbmV3Qm9hcmQucGxhY2VTaGlwKDksIDYsIGJpZ1NoaXAsIFwiaG9yaXpvbnRhbFwiKTtcblxuLy8gLy8gbmV3Qm9hcmQucmVjZWl2ZUF0dGFjaygwLDApXG4vLyAvLyBuZXdCb2FyZC5yZWNlaXZlQXR0YWNrKDEsMClcbi8vIC8vIG5ld0JvYXJkLnJlY2VpdmVBdHRhY2soMiwwKVxuXG4vLyBuZXdCb2FyZC5yZWNlaXZlQXR0YWNrKDIsIDIpO1xuLy8gbmV3Qm9hcmQucmVjZWl2ZUF0dGFjaygyLCAzKTtcblxuLy8gbmV3Qm9hcmQucmVjZWl2ZUF0dGFjayg5LCA3KTtcblxuLy8gY29uc29sZS5sb2cobmV3Qm9hcmQuZ2FtZWJvYXJkKTtcbiJdLCJuYW1lcyI6WyJHYW1lYm9hcmQiLCJnYW1lYm9hcmQiLCJnYW1lQm9hcmQiLCJpIiwiaiIsImNyZWF0ZUdhbWVCb2FyZCIsInNoaXBzIiwiX2lzV2l0aGluQm91bmRzIiwiaW5kZXgiLCJwbGFjZVNoaXAiLCJjb2wiLCJyb3ciLCJzaGlwIiwiZGlyZWN0aW9uIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsInR5cGUiLCJ2YWx1ZSIsImlzU3VuayIsInB1c2giLCJyZWNlaXZlQXR0YWNrIiwiYm9hcmRDZWxsIiwiaGl0IiwibmVpZ2hib3VycyIsInVuZGVmaW5lZCIsIl9tYXJrQ2VsbHNBcm91bmRTdWNjc2Vzc2Z1bGxIaXQiLCJjaGVja0VuZEdhbWUiLCJjb3VudGVyIiwiUGxheWVyIiwicGxheWVydHlwZSIsInJlbmRlckdhbWVib2FyZCIsInBsYXllciIsImJveCIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNxdWFyZSIsImlubmVySFRNTCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhcHBlbmRDaGlsZCIsImFwcGVuZCIsInBsYXllckJvYXJkQm94IiwicXVlcnlTZWxlY3RvciIsImNvbXB1dGVyQm9hcmRCb3giLCJyZWFsUGxheWVyIiwiY29tcFBsYXllciJdLCJzb3VyY2VSb290IjoiIn0=