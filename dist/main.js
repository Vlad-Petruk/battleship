(()=>{"use strict";const e=e=>{let o=0;return{hit:function(){o+=1},isSunk:function(){return e<=o},length:e,getHits:()=>o}},o=e(4),t=e(2),n=e(4),l=(()=>{const e=function(){const e=[];for(let o=0;o<=9;o++){e[o]=[];for(let t=0;t<=9;t++)e[o][t]=""}return e}(),o=[];function t(e){return!(e<0||e>9)}return console.log(o),{gameboard:e,placeShip:function(n,l,i,c){if(!t(n)||!t(l)||""!==e[n][l])return console.log("Index out of board");if("vertical"===c&&t(n+i.length-1))for(let t=n;t<n+i.length;t++){if(""!==e[t][l])return console.log("Invalid spot");e[t][l]={type:`${i.length}ship`,ship:i,value:"O",isSunk:!1},o.push(e[t][l])}if("horizontal"===c&&t(l+i.length-1))for(let t=l;t<l+i.length;t++){if(""!==e[n][t])return console.log("Invalid spot");e[n][t]={type:`${i.length}ship`,ship:i,value:"O",isSunk:!1},o.push(e[n][t])}return e},receiveAttack:function(o,n){if(!t(o)||!t(n))return console.log("Attack out of board");{let t=e[o][n];if("·"===t)return;""===t?(e[o][n]="·",console.log("Miss")):"O"===t.value&&(t.ship.hit(),t.value="X",t.ship.isSunk()&&(t.isSunk=!0,function(o,t){const n=[e[o+1]?.[t],e[o-1]?.[t],e[o]?.[t+1],e[o]?.[t-1],e[o+1]?.[t+1],e[o-1]?.[t-1],e[o-1]?.[t+1],e[o+1]?.[t-1]];for(let l=0;l<n.length;l++)if(void 0!==n[l]&&"O"!==n[l].value&&"X"!==n[l].value)switch(n[l]="·",l){case 0:e[o+1][t]="·";break;case 1:e[o-1][t]="·";break;case 2:e[o][t+1]="·";break;case 3:e[o][t-1]="·";break;case 4:e[o+1][t+1]="·";break;case 5:e[o-1][t-1]="·";break;case 6:e[o-1][t+1]="·";break;case 7:e[o+1][t-1]="·"}}(o,n),console.log("Sunk")),console.log(t.isSunk))}},checkEndGame:function(){let e=0;for(let t of o)!0===t.isSunk&&e++;console.log(e),e>=10&&console.log("End game")}}})();l.placeShip(0,0,o,"vertical"),l.placeShip(2,2,t,"horizontal"),l.placeShip(9,6,n,"horizontal"),l.receiveAttack(2,2),l.receiveAttack(2,3),l.receiveAttack(9,7),console.log(l.gameboard)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWMsRUFBRSxHQUd6QlYsUUFBUUMsSUFBSVYsRUFBU0MsVSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZmFjdG9yaWVzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU2hpcCA9IChzaGlwTGVuZ3RoKSA9PiB7XHJcbiAgICBjb25zdCBsZW5ndGggPSBzaGlwTGVuZ3RoO1xyXG4gICAgbGV0IGhpdHMgPSAwO1xyXG5cclxuICAgIGZ1bmN0aW9uIGhpdCgpIHtcclxuICAgICAgICBoaXRzKz0xO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzU3VuaygpIHtcclxuICAgICAgICBpZihzaGlwTGVuZ3RoIDw9IGhpdHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGhpdCxcclxuICAgICAgICBpc1N1bmssXHJcbiAgICAgICAgbGVuZ3RoLFxyXG4gICAgICAgIGdldEhpdHM6ICgpID0+IGhpdHNcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgR2FtZWJvYXJkID0gKCkgPT4ge1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlR2FtZUJvYXJkICgpIHtcclxuICAgICAgICBjb25zdCBnYW1lQm9hcmQgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSA5OyBpKyspIHtcclxuICAgICAgICAgIGdhbWVCb2FyZFtpXSA9IFtdO1xyXG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPD0gOTsgaisrKSB7XHJcbiAgICAgICAgICAgIGdhbWVCb2FyZFtpXVtqXSA9ICcnO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZ2FtZUJvYXJkO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBnYW1lYm9hcmQgPSBjcmVhdGVHYW1lQm9hcmQoKTtcclxuICAgIGNvbnN0IHNoaXBzID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gX2lzV2l0aGluQm91bmRzIChpbmRleCkge1xyXG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiA5KSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAvL3N0YXJ0IGFuZCBlbmQgaGVyZSAtIGluZGV4ZXMgb2YgdGhlIGJvcmQncyBjZWxscyB3aGVyZSBpIHdhbnQgdG8gcGxhY2Ugc2hpcFxyXG4gICAgLy8gdGhlIGNvb3JkaW5hdGUgb2JqZWN0IHNob3VsZCBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBzaGlwIGluIGl0cyBsb2NhdGlvbi5cclxuICAgIGZ1bmN0aW9uIHBsYWNlU2hpcChjb2wsIHJvdywgc2hpcCwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgaWYgKF9pc1dpdGhpbkJvdW5kcyhjb2wpJiZfaXNXaXRoaW5Cb3VuZHMocm93KSYmZ2FtZWJvYXJkW2NvbF1bcm93XSA9PT0gJycpIHtcclxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyYmX2lzV2l0aGluQm91bmRzKGNvbCtzaGlwLmxlbmd0aC0xKSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGNvbDsgaSA8IGNvbCtzaGlwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZ2FtZWJvYXJkW2ldW3Jvd10gPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkW2ldW3Jvd10gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGAke3NoaXAubGVuZ3RofXNoaXBgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGlwOiBzaGlwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ08nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N1bms6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwcy5wdXNoKGdhbWVib2FyZFtpXVtyb3ddKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gY29uc29sZS5sb2coJ0ludmFsaWQgc3BvdCcpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyYmX2lzV2l0aGluQm91bmRzKHJvdytzaGlwLmxlbmd0aC0xKSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHJvdzsgaSA8IHJvdytzaGlwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZ2FtZWJvYXJkW2NvbF1baV0gPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkW2NvbF1baV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGAke3NoaXAubGVuZ3RofXNoaXBgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGlwOiBzaGlwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ08nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N1bms6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwcy5wdXNoKGdhbWVib2FyZFtjb2xdW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gY29uc29sZS5sb2coJ0ludmFsaWQgc3BvdCcpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgeyByZXR1cm4gY29uc29sZS5sb2coJ0luZGV4IG91dCBvZiBib2FyZCcpfVxyXG5cclxuICAgICAgICByZXR1cm4gZ2FtZWJvYXJkO1xyXG4gICAgfSBcclxuXHJcbiAgICAvL0N1cnJlbnRseSB0ZXN0aW5nIHRoaXMgaW4gaW5kZXguanNcclxuICAgIGZ1bmN0aW9uIHJlY2VpdmVBdHRhY2sgKGNvbCwgcm93KSB7XHJcbiAgICAgICAgaWYgKF9pc1dpdGhpbkJvdW5kcyhjb2wpJiZfaXNXaXRoaW5Cb3VuZHMocm93KSkge1xyXG4gICAgICAgICAgICBsZXQgYm9hcmRDZWxsID0gZ2FtZWJvYXJkW2NvbF1bcm93XTtcclxuICAgICAgICAgICAgaWYgKGJvYXJkQ2VsbCA9PT0gJ8K3Jykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYoYm9hcmRDZWxsID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgZ2FtZWJvYXJkW2NvbF1bcm93XSA9ICfCtyc7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWlzcycpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYm9hcmRDZWxsLnZhbHVlID09PSAnTycpIHtcclxuICAgICAgICAgICAgICAgIGJvYXJkQ2VsbC5zaGlwLmhpdCgpO1xyXG4gICAgICAgICAgICAgICAgYm9hcmRDZWxsLnZhbHVlID0gJ1gnO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkQ2VsbC5zaGlwLmlzU3VuaygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRDZWxsLmlzU3VuayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgX21hcmtDZWxsc0Fyb3VuZFN1Y2NzZXNzZnVsbEhpdChjb2wsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N1bmsnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYm9hcmRDZWxsLmlzU3Vuayk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIH0gZWxzZSB7IHJldHVybiBjb25zb2xlLmxvZygnQXR0YWNrIG91dCBvZiBib2FyZCcpfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9tYXJrQ2VsbHNBcm91bmRTdWNjc2Vzc2Z1bGxIaXQoY29sLCByb3cpIHtcclxuICAgICAgICBjb25zdCBuZWlnaGJvdXJzID0gW1xyXG4gICAgICAgICAgICBnYW1lYm9hcmRbY29sICsgMV0/Lltyb3ddLCBcclxuICAgICAgICAgICAgZ2FtZWJvYXJkW2NvbCAtIDFdPy5bcm93XSxcclxuICAgICAgICAgICAgZ2FtZWJvYXJkW2NvbF0/Lltyb3cgKyAxXSxcclxuICAgICAgICAgICAgZ2FtZWJvYXJkW2NvbF0/Lltyb3cgLSAxXSxcclxuICAgICAgICAgICAgZ2FtZWJvYXJkW2NvbCArIDFdPy5bcm93ICsgMV0sXHJcbiAgICAgICAgICAgIGdhbWVib2FyZFtjb2wgLSAxXT8uW3JvdyAtIDFdLFxyXG4gICAgICAgICAgICBnYW1lYm9hcmRbY29sIC0gMV0/Lltyb3cgKyAxXSxcclxuICAgICAgICAgICAgZ2FtZWJvYXJkW2NvbCArIDFdPy5bcm93IC0gMV1cclxuICAgICAgICBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAobmVpZ2hib3Vyc1tpXSAhPT0gdW5kZWZpbmVkJiZuZWlnaGJvdXJzW2ldLnZhbHVlICE9PSAnTycmJm5laWdoYm91cnNbaV0udmFsdWUgIT09ICdYJykge1xyXG4gICAgICAgICAgICAgICAgbmVpZ2hib3Vyc1tpXSA9ICfCtyc7XHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY29ycmVzcG9uZGluZyB2YWx1ZSBpbiBnYW1lYm9hcmQgYXJyYXlcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZFtjb2wgKyAxXVtyb3ddID0gJ8K3JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkW2NvbCAtIDFdW3Jvd10gPSAnwrcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmRbY29sXVtyb3cgKyAxXSA9ICfCtyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkW2NvbF1bcm93IC0gMV0gPSAnwrcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmRbY29sICsgMV1bcm93ICsgMV0gPSAnwrcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmRbY29sIC0gMV1bcm93IC0gMV0gPSAnwrcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmRbY29sIC0gMV1bcm93ICsgMV0gPSAnwrcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZFtjb2wgKyAxXVtyb3cgLSAxXSA9ICfCtyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNoZWNrRW5kR2FtZSgpIHtcclxuICAgICAgICBsZXQgY291bnRlciA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgc2hpcCBvZiBzaGlwcykge1xyXG4gICAgICAgICAgICBpZihzaGlwLmlzU3VuayA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGNvdW50ZXIpXHJcbiAgICAgICAgaWYoY291bnRlcj49MTApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0VuZCBnYW1lJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coc2hpcHMpXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBnYW1lYm9hcmQsXHJcbiAgICAgICAgcGxhY2VTaGlwLFxyXG4gICAgICAgIHJlY2VpdmVBdHRhY2ssXHJcbiAgICAgICAgY2hlY2tFbmRHYW1lXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgeyBcclxuICAgIFNoaXAsIFxyXG4gICAgR2FtZWJvYXJkXHJcbn0iLCJpbXBvcnQgeyBHYW1lYm9hcmQsIFNoaXAgfSBmcm9tIFwiLi9mYWN0b3JpZXNcIjtcblxuY29uc3QgbXlTaGlwID0gU2hpcCg0KTtcbmNvbnN0IGFub3RoZXJTaGlwID0gU2hpcCgyKVxuY29uc3QgYmlnU2hpcCA9IFNoaXAoNClcbmNvbnN0IG5ld0JvYXJkID0gR2FtZWJvYXJkKClcbm5ld0JvYXJkLnBsYWNlU2hpcCgwLDAsIG15U2hpcCwgJ3ZlcnRpY2FsJyk7XG5uZXdCb2FyZC5wbGFjZVNoaXAoMiwyLCBhbm90aGVyU2hpcCwgJ2hvcml6b250YWwnKTtcbm5ld0JvYXJkLnBsYWNlU2hpcCg5LDYsIGJpZ1NoaXAsICdob3Jpem9udGFsJylcblxuXG4vLyBuZXdCb2FyZC5yZWNlaXZlQXR0YWNrKDAsMClcbi8vIG5ld0JvYXJkLnJlY2VpdmVBdHRhY2soMSwwKVxuLy8gbmV3Qm9hcmQucmVjZWl2ZUF0dGFjaygyLDApXG5cbm5ld0JvYXJkLnJlY2VpdmVBdHRhY2soMiwyKTtcbm5ld0JvYXJkLnJlY2VpdmVBdHRhY2soMiwzKTtcblxubmV3Qm9hcmQucmVjZWl2ZUF0dGFjayg5LDcpXG5cblxuY29uc29sZS5sb2cobmV3Qm9hcmQuZ2FtZWJvYXJkKSJdLCJuYW1lcyI6WyJTaGlwIiwic2hpcExlbmd0aCIsImhpdHMiLCJoaXQiLCJpc1N1bmsiLCJsZW5ndGgiLCJnZXRIaXRzIiwibXlTaGlwIiwiYW5vdGhlclNoaXAiLCJiaWdTaGlwIiwibmV3Qm9hcmQiLCJnYW1lYm9hcmQiLCJnYW1lQm9hcmQiLCJpIiwiaiIsImNyZWF0ZUdhbWVCb2FyZCIsInNoaXBzIiwiX2lzV2l0aGluQm91bmRzIiwiaW5kZXgiLCJjb25zb2xlIiwibG9nIiwicGxhY2VTaGlwIiwiY29sIiwicm93Iiwic2hpcCIsImRpcmVjdGlvbiIsInR5cGUiLCJ2YWx1ZSIsInB1c2giLCJyZWNlaXZlQXR0YWNrIiwiYm9hcmRDZWxsIiwibmVpZ2hib3VycyIsInVuZGVmaW5lZCIsIl9tYXJrQ2VsbHNBcm91bmRTdWNjc2Vzc2Z1bGxIaXQiLCJjaGVja0VuZEdhbWUiLCJjb3VudGVyIiwiR2FtZWJvYXJkIl0sInNvdXJjZVJvb3QiOiIifQ==